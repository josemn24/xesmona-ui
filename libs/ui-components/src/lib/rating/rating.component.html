<div class="b2b-rating">
    @for (ratingItem of ratings(); track ratingItem; let i = $index) {
        <label [style.pointerEvents]="getPointerEvents()">
          <input
            class="b2b-rating-radio"
            type="radio"
            [name]="radioGroupName()"
            [tabIndex]="getTabIndex()"
            [value]="getValue(i)"
            [checked]="isChecked(i)"
            (click)="onRating(i)">

          <span class="b2b-star">
            @if (isFilled(i)) {
                <ng-container *ngTemplateOutlet="readOnly() ? readOnlyFilledStar : interactiveFilledStar">
                </ng-container>
            } @else {
                <ng-container *ngTemplateOutlet="readOnly() ? readOnlyUnfilledStar : interactiveUnfilledStar">
                </ng-container>
            }
          </span>
        </label>
    }
</div>

<ng-template #interactiveFilledStar>
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path fill-rule="evenodd" clip-rule="evenodd" d="M11.2554 2.20999C11.479 2.0733 11.7359 2.00098 11.9979 2.00098C12.26 2.00098 12.5169 2.0733 12.7404 2.20999C12.964 2.34667 13.1455 2.54241 13.2649 2.77564L13.2669 2.77949L15.8322 7.86183L20.7121 8.34527C20.9784 8.36874 21.2327 8.46736 21.4452 8.62973C21.6596 8.79352 21.8226 9.01532 21.9149 9.26887C22.0072 9.52241 22.0248 9.79709 21.9658 10.0604C21.9068 10.3236 21.7736 10.5645 21.582 10.7544L17.5361 14.7644L19.0371 20.2167C19.1072 20.4808 19.0995 20.7596 19.015 21.0195C18.9304 21.2794 18.7726 21.5093 18.5605 21.6816C18.3483 21.854 18.0909 21.9613 17.8192 21.9908C17.5484 22.0202 17.2749 21.971 17.0314 21.8492L17.0289 21.8479L11.998 19.3567L6.97438 21.8446L6.97199 21.8458C6.72842 21.9677 6.45489 22.0169 6.18407 21.9875C5.91237 21.958 5.65497 21.8507 5.44284 21.6783C5.23071 21.506 5.07288 21.2761 4.98833 21.0162C4.90379 20.7563 4.89613 20.4775 4.96627 20.2134L4.96802 20.2068L6.46711 14.7613L2.41819 10.7513C2.22655 10.5614 2.09316 10.3204 2.03416 10.0571C1.97517 9.7938 1.99285 9.51912 2.08512 9.26558C2.17738 9.01203 2.34037 8.79023 2.55477 8.62644C2.76732 8.46407 3.02158 8.36545 3.28792 8.34198L8.16767 7.85855L10.731 2.77563C10.8504 2.54241 11.0319 2.34667 11.2554 2.20999Z" fill="#E46B15"/>
    </svg>
</ng-template>

<ng-template #interactiveUnfilledStar>
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path fill-rule="evenodd" clip-rule="evenodd" d="M11.998 3.59452L9.32141 8.90198C9.20584 9.13115 8.9811 9.28531 8.72569 9.31061L3.60713 9.8177L7.83445 14.0044C8.02706 14.1951 8.10174 14.475 8.02979 14.7363L6.4642 20.4234L11.6651 17.8477C11.8748 17.7439 12.121 17.7438 12.3308 17.8477L17.5391 20.4267L15.9735 14.7396C15.9016 14.4784 15.9762 14.1986 16.1686 14.0079L20.393 9.821L15.2743 9.3139C15.019 9.28861 14.7943 9.13456 14.6787 8.90551L11.998 3.59452ZM11.2554 2.20999C11.479 2.0733 11.7359 2.00098 11.9979 2.00098C12.26 2.00098 12.5169 2.0733 12.7404 2.20999C12.964 2.34667 13.1455 2.54241 13.2649 2.77564L13.2669 2.77949L15.8322 7.86182L20.7121 8.34527C20.9784 8.36874 21.2327 8.46736 21.4452 8.62973C21.6596 8.79352 21.8226 9.01532 21.9149 9.26887C22.0072 9.52241 22.0248 9.79709 21.9658 10.0604C21.9068 10.3236 21.7736 10.5645 21.582 10.7544L17.5361 14.7644L19.0371 20.2167C19.1072 20.4808 19.0995 20.7596 19.015 21.0195C18.9304 21.2794 18.7726 21.5093 18.5605 21.6816C18.3483 21.854 18.0909 21.9613 17.8192 21.9908C17.5484 22.0202 17.2749 21.971 17.0314 21.8492L17.0289 21.8479L11.998 19.3567L6.97438 21.8446L6.97199 21.8458C6.72842 21.9677 6.45489 22.0169 6.18407 21.9875C5.91237 21.958 5.65497 21.8507 5.44284 21.6783C5.23071 21.506 5.07288 21.2761 4.98833 21.0162C4.90379 20.7563 4.89613 20.4775 4.96627 20.2134L4.96802 20.2068L6.46711 14.7613L2.41819 10.7513C2.22655 10.5614 2.09316 10.3204 2.03416 10.0571C1.97517 9.7938 1.99285 9.51912 2.08512 9.26558C2.17738 9.01203 2.34037 8.79023 2.55477 8.62644C2.76732 8.46407 3.02158 8.36545 3.28792 8.34198L8.16767 7.85855L10.731 2.77563C10.8504 2.54241 11.0319 2.34667 11.2554 2.20999Z" fill="#89969A"/>
    </svg>
</ng-template>

<ng-template #readOnlyFilledStar>
    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path fill-rule="evenodd" clip-rule="evenodd" d="M7.50367 1.47333C7.6527 1.3822 7.82399 1.33398 7.99867 1.33398C8.17335 1.33398 8.34464 1.3822 8.49367 1.47333C8.6427 1.56445 8.76368 1.69494 8.8433 1.85043L8.84461 1.85299L10.5548 5.24122L13.8081 5.56351C13.9857 5.57916 14.1552 5.64491 14.2969 5.75315C14.4398 5.86235 14.5485 6.01021 14.61 6.17924C14.6715 6.34827 14.6833 6.53139 14.6439 6.70691C14.6046 6.88243 14.5158 7.043 14.388 7.16962L11.6908 9.84296L12.6914 13.4778C12.7382 13.6539 12.733 13.8397 12.6767 14.013C12.6203 14.1863 12.5151 14.3395 12.3737 14.4544C12.2323 14.5693 12.0607 14.6409 11.8795 14.6605C11.699 14.6801 11.5167 14.6474 11.3543 14.5661L11.3526 14.5653L7.99869 12.9045L4.64963 14.5631L4.64804 14.5639C4.48566 14.6452 4.3033 14.678 4.12275 14.6584C3.94162 14.6387 3.77002 14.5671 3.6286 14.4522C3.48718 14.3373 3.38196 14.1841 3.3256 14.0108C3.26923 13.8375 3.26412 13.6517 3.31089 13.4756L3.31205 13.4712L4.31145 9.84089L1.61217 7.16756C1.48441 7.04094 1.39548 6.88024 1.35615 6.70472C1.31682 6.5292 1.32861 6.34608 1.39012 6.17705C1.45163 6.00802 1.56028 5.86016 1.70322 5.75096C1.84492 5.64271 2.01443 5.57697 2.19199 5.56132L5.44515 5.23904L7.15404 1.85042C7.23365 1.69494 7.35464 1.56445 7.50367 1.47333Z" fill="#E46B15"/>
    </svg>
</ng-template>

<ng-template #readOnlyUnfilledStar>
    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path fill-rule="evenodd" clip-rule="evenodd" d="M7.99869 2.39635L6.21432 5.93465C6.13727 6.08744 5.98744 6.19021 5.81717 6.20708L2.40479 6.54513L5.22301 9.33626C5.35141 9.46342 5.4012 9.64998 5.35324 9.82422L4.30951 13.6156L7.77677 11.8985C7.91659 11.8292 8.08072 11.8292 8.22055 11.8985L11.6928 13.6178L10.649 9.82641C10.6011 9.65224 10.6508 9.46575 10.7791 9.33858L13.5954 6.54733L10.1829 6.20927C10.0127 6.19241 9.86292 6.0897 9.78585 5.93701L7.99869 2.39635ZM7.50367 1.47333C7.6527 1.3822 7.82399 1.33398 7.99867 1.33398C8.17335 1.33398 8.34464 1.3822 8.49367 1.47333C8.6427 1.56445 8.76368 1.69494 8.8433 1.85043L8.84461 1.85299L10.5548 5.24122L13.8081 5.56351C13.9857 5.57916 14.1552 5.64491 14.2969 5.75315C14.4398 5.86235 14.5485 6.01021 14.61 6.17924C14.6715 6.34827 14.6833 6.53139 14.6439 6.70691C14.6046 6.88243 14.5158 7.043 14.388 7.16962L11.6908 9.84296L12.6914 13.4778C12.7382 13.6539 12.733 13.8397 12.6767 14.013C12.6203 14.1863 12.5151 14.3395 12.3737 14.4544C12.2323 14.5693 12.0607 14.6409 11.8795 14.6605C11.699 14.6801 11.5167 14.6474 11.3543 14.5661L11.3526 14.5653L7.99869 12.9045L4.64963 14.5631L4.64804 14.5639C4.48566 14.6452 4.3033 14.678 4.12275 14.6584C3.94162 14.6387 3.77002 14.5671 3.6286 14.4522C3.48718 14.3373 3.38196 14.1841 3.3256 14.0108C3.26923 13.8375 3.26412 13.6517 3.31089 13.4756L3.31205 13.4712L4.31145 9.84089L1.61217 7.16756C1.48441 7.04094 1.39548 6.88024 1.35615 6.70472C1.31682 6.5292 1.32861 6.34608 1.39012 6.17705C1.45163 6.00802 1.56028 5.86015 1.70322 5.75096C1.84492 5.64271 2.01443 5.57697 2.19199 5.56132L5.44515 5.23904L7.15404 1.85042C7.23365 1.69494 7.35464 1.56445 7.50367 1.47333Z" fill="#89969A"/>
    </svg>
</ng-template>
